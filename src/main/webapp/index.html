<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html">
<h:head>
  <title>Admin Dashboard</title>
  <h:outputStylesheet library="css" name="style.css"/>
</h:head>
<h:body>
    <style>
        body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #1f2d3d;
  color: white;
}

.topbar {
  background: #1e88e5;
  padding: 15px 20px;
  display: flex;
  justify-content: space-between;
}

.logo {
  font-size: 1.4em;
  font-weight: bold;
}

.container {
  display: flex;
  height: 100vh;
}

.sidebar {
  width: 220px;
  background: #2c3e50;
  padding: 20px;
}

.error {
  color: red;
}

.main {
  flex-grow: 1;
  padding: 20px;
}

.btn {
  padding: 6px 14px;
  background: #1e88e5;
  border: none;
  color: white;
  cursor: pointer;
}

.btn-delete {
  background: red;
  color: white;
  border: none;
  padding: 4px 10px;
  cursor: pointer;
}

.table {
  width: 100%;
  border-collapse: collapse;
}

.modal {
  position: fixed;
  top: 0; left: 0;
  width: 100%; height: 100%;
  background: rgba(0,0,0,0.6);
  display: flex;
  justify-content: center;
  align-items: center;
}

.modal-content {
  background: #34495e;
  padding: 20px;
  border-radius: 8px;
  width: 300px;
}

    </style>
<div class="topbar">
  <div class="logo">Complaint Service</div>
  <div class="user-menu">User â¬‡</div>
</div>

<div class="container">
  <div class="sidebar">
    <h3>Tickets</h3>
    <p class="error">Authentication failed. Please check your token.</p>
  </div>

  <div class="main">
    <h:form>
      <h:commandButton value="Add Support" action="#{supportBean.openNew}" styleClass="btn" />
      <br/><br/>

      <h:dataTable value="#{supportBean.supports}" var="s" border="1" styleClass="table">
        <h:column>
          <f:facet name="header">Email</f:facet>
          #{s.email}
        </h:column>
        <h:column>
          <f:facet name="header">Active</f:facet>
          #{s.active}
        </h:column>
        <h:column>
          <f:facet name="header">Action</f:facet>
          <h:commandButton value="Delete" action="#{supportBean.delete(s)}" styleClass="btn-delete" />
        </h:column>
      </h:dataTable>
    </h:form>
  </div>
</div>

<!-- Modal -->
<h:panelGroup rendered="#{supportBean.showModal}" styleClass="modal">
  <h:form>
    <div class="modal-content">
      <h2>Add Support</h2>
      <h:outputLabel value="Email:"/><br/>
      <h:inputText value="#{supportBean.currentSupport.email}" /><br/>
      <h:outputLabel value="Active:"/><br/>
      <h:selectBooleanCheckbox value="#{supportBean.currentSupport.active}" /><br/><br/>
      <h:commandButton value="Save" action="#{supportBean.save}" styleClass="btn" />
    </div>
  </h:form>
</h:panelGroup>

</h:body>
</html>
